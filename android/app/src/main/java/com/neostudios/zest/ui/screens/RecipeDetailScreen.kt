package com.neostudios.zest.ui.screens\n\nimport androidx.compose.foundation.layout.*\nimport androidx.compose.foundation.rememberScrollState\nimport androidx.compose.foundation.verticalScroll\nimport androidx.compose.material.icons.Icons\nimport androidx.compose.material.icons.filled.ArrowBack\nimport androidx.compose.material.icons.filled.Share\nimport androidx.compose.material3.*\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.platform.LocalContext\nimport androidx.compose.ui.unit.dp\nimport androidx.hilt.navigation.compose.hiltViewModel\nimport androidx.navigation.NavController\nimport com.neostudios.zest.util.SharingUtils\n\n@OptIn(ExperimentalMaterial3Api::class)\n@Composable\nfun RecipeDetailScreen(\n    recipeId: String,\n    navController: NavController,\n    viewModel: RecipesViewModel = hiltViewModel()\n) {\n    val recipe = viewModel.getRecipeById(recipeId)\n    val context = LocalContext.current\n\n    if (recipe != null) {\n        Scaffold(\n            topBar = {\n                TopAppBar(\n                    title = { Text(recipe.name) },\n                    navigationIcon = {\n                        IconButton(onClick = { navController.navigateUp() }) {\n                            Icon(Icons.Default.ArrowBack, contentDescription = \"Back\")\n                        }\n                    },\n                    actions = {\n                        IconButton(onClick = { \n                            SharingUtils.shareRecipe(context, recipe.name, \"https://zest.com/recipe/${recipe.id}\")\n                        }) {\n                            Icon(Icons.Default.Share, contentDescription = \"Share\")\n                        }\n                    }\n                )\n            }\n        ) {\ paddingValues ->\n            Column(\n                modifier = Modifier\n                    .fillMaxSize()\n                    .verticalScroll(rememberScrollState())\n                    .padding(paddingValues)\n                    .padding(16.dp)\n            ) {\n                Row(modifier = Modifier.padding(vertical = 8.dp)) {\n                    Text(\"â±ï¸ ${recipe.prepTime}m\", modifier = Modifier.padding(end = 16.dp))\n                    Text(\"ðŸ”¥ ${recipe.cookTime}m\", modifier = Modifier.padding(end = 16.dp))\n                    Text(\"ðŸ½ï¸ ${recipe.servings}\")\n                }\n                \n                Spacer(modifier = Modifier.height(16.dp))\n                \n                Text(\"Ingredients\", style = MaterialTheme.typography.titleLarge)\n                Spacer(modifier = Modifier.height(8.dp))\n                recipe.ingredients.forEach { ing ->\n                    Text(\"â€¢ ${ing.amount} ${ing.unit} ${ing.name}\")\n                }\n                \n                Spacer(modifier = Modifier.height(16.dp))\n                \n                Text(\"Instructions\", style = MaterialTheme.typography.titleLarge)\n                Spacer(modifier = Modifier.height(8.dp))\n                recipe.instructions.forEachIndexed { i, step ->\n                    Text(\"${i + 1}. $step\", modifier = Modifier.padding(bottom = 8.dp))\n                }\n            }\n        }\n    } else {\n        // Handle recipe not found\n        Box(modifier = Modifier.fillMaxSize()) {\n            Text(\"Recipe not found\", modifier = Modifier.align(androidx.compose.ui.Alignment.Center))\n        }\n    }\n}\n