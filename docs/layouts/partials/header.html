<header>
    <nav>
        <a id="home-link" href="/">Home</a>
        <a id="user-docs-link" href="/user/">User Docs</a>
        <a id="developer-docs-link" href="/developer/">Developer Docs</a>
    </nav>
    <link rel="stylesheet" href="/css/custom.css">
    <style>
        .active-mode {
            font-weight: bold;
            color: blue; /* Or any other highlighting style */
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const userDocsLink = document.getElementById('user-docs-link');
            const developerDocsLink = document.getElementById('developer-docs-link');
            const homeLink = document.getElementById('home-link');

            function setActiveMode(mode) {
                userDocsLink.classList.remove('active-mode');
                developerDocsLink.classList.remove('active-mode');
                if (mode === 'user') {
                    userDocsLink.classList.add('active-mode');
                } else if (mode === 'developer') {
                    developerDocsLink.classList.add('active-mode');
                }
                localStorage.setItem('docsMode', mode);
            }

            // Set initial active mode based on URL or local storage
            const currentPath = window.location.pathname;
            if (currentPath.startsWith('/user')) {
                setActiveMode('user');
            } else if (currentPath.startsWith('/developer')) {
                setActiveMode('developer');
            } else {
                const storedMode = localStorage.getItem('docsMode');
                if (storedMode) {
                    setActiveMode(storedMode);
                } else {
                    setActiveMode('user'); // Default to user mode
                }
            }

            // Handle clicks on User Docs and Developer Docs links
            userDocsLink.addEventListener('click', function() {
                setActiveMode('user');
            });

            developerDocsLink.addEventListener('click', function() {
                setActiveMode('developer');
            });

            // Handle home link click
            homeLink.addEventListener('click', function(event) {
                const storedMode = localStorage.getItem('docsMode');
                if (storedMode === 'developer') {
                    event.preventDefault(); // Prevent default navigation
                    window.location.href = '/developer/';
                } else {
                    event.preventDefault(); // Prevent default navigation
                    window.location.href = '/user/';
                }
            });
        });
    </script>
</header>